<!DOCTYPE html>
<html>
<head>
    <title>Vancouver Crime Report</title>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <!-- Import vega-embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <!-- Import pure.css -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Open+Sans&display=swap" rel="stylesheet">

    <!-- custom style-->
    <style>
        *{
            font-family: 'Open Sans', sans-serif;
        }
        h1{
            font-size: 2.5em;
            font-family: 'Merriweather', serif;
            color: red;
        }
        h2{
            font-family: 'Merriweather', serif;
        }
        h3{
            font-weight: bold;
        }
        p{
            font-size: 0.9em;
        }
        body{
            background-color: lightgrey;
        }
        .page{
            width: 1000px;
            height: auto;
            background-color: white;   
            margin: auto;
            padding: 50px;
            padding-top: 35px;
        }
        .vis-container{
            width: 100%;
        }
        .description h2, h1{
            margin-top:0px;
        }
        .description-right {
            padding-left: 145px;
        }
        .description-left{
            padding-right: 20px;
        }
        .pure-g{
            margin-bottom: 25px;
        }
        .small-font{
            font-size: 12px;
        }
        .sub-heading{
            font-size: 0.875em;
            color: 	#666666;
        }
        .light_green_text{
            color: #5ba47d;
            font-weight: bold;
            font-size: 1.2em;
 
        }
        .orange_text{
            color: #f24a0d;
            font-weight: bold;
            font-size: 1.2em;
        }
        .bold_text{
            font-weight: bold;
            font-size: 1.2em;
        }
        .theft_text{
            color: #9467bd;
            font-weight: bold;
            font-size: 1.2em;
        }
        .break_and_enter_text{
            color: #1f77b4;
            font-weight: bold;
            font-size: 1.2em;
        }
        .mischief_text{
            color: #2ca02c;
            font-weight: bold;
            font-size: 1.2em;
        }
        .homicide_text{
            color: #ff7f0e;
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>
<body>

    <div class="page">

        <!-- pure grid group -->
        <!-- Heading -->
        <div class="pure-g">
            <div class="pure-u-1-2">
                <h1>Crime in Vancouver</h1>
            </div>
            <div class="pure-u-1">
                <div class="sub-heading">
                    Vancouver is a major city in western Canada, located in the Lower Mainland region of British Columbia. Vancouver was originally named
                    Gastown and it was renamed as Vancouver in 1886. Even though Vancouver has the highest population density in Canada, it is consistently 
                    named as one of the top five worldwide cities for livability and quality of life, and it was acknowledged by the Economist Intelligence Unit 
                    as the first city ranked among the top ten of the world's most well-living cities for ten consecutive years.
                </div>
            </div>
        </div>

        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1">
                <div id="waterfallchart" class="vis-container"></div>
            </div>
            <div class="pure-u-1">
                <p>
                    In <span class="light_green_text">2005</span>, <span class="light_green_text">a new transit police force</span>, the Greater Vancouver Transportation Authority Police Service (now South Coast British 
                    Columbia Transportation Authority Police Service), was <span class="light_green_text">established with full police powers</span>. In <span class="light_green_text">2006</span>, 
                    <span class="light_green_text">a new Counter Terrorism Unit</span> was formed to have the ability to fight back terrorist activities.
                     In <span class="orange_text">2011</span>, a <span class="orange_text">riot</span> took place following the <span class="orange_text">2011 Stanley Cup Finals</span>. Vancouver operates the Vancouver 
                     Police Department, with 1,327 sworn members and an operating budget of $316.5 million in 2018. Over 19% of the city's budget was spent on police protection in 2018. 
                </p>
            </div>
        </div>


        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-2-5" style= "margin-top: -3mm;">
                <div class="description-left">
                    <h2>Neighbourhood in Vancouver</h2>
                    <p>
                        Due to the unique character and ethnic mix of each neighbourhood in Vancouver, it has been called the "city of neighbourhoods".
                        People of English, Scottish, and Irish origins were historically the largest ethnic groups in the city followed by Germans, and elements of British 
                        society and culture are still visible in some areas. 
                    </p>
                    <p>
                        We can see a <span class="light_green_text">decrease</span> in the overall <span class="bold_text">crime count</span> from <span class="light_green_text">2004 to 2014</span> 
                        and a <span class="orange_text">slight increase</span> from <span class="orange_text">2014 onwards</span>. 
                    </p>
                </div>
            </div>
            <div class="pure-u-3-5">
                <div id="streamgraph" class="vis-container"></div>
            </div>
        </div>


        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-2-5">
                <div class="description-left">
                    <h2>Types of Crime</h2>
                    <p>
                        There are various criminal activities happening in Vancouver and the similar types of crime have
                        been grouped together to show the overview. The <span class="bold_text">most common crime</span> in Vancouver is 
                        <span class="theft_text">Theft</span> which includes motor vehicle theft, robbery and etc. 
                    </p>
                    <p>
                        Based on the donut chart, <span class="break_and_enter_text">Break and Enter</span> is having the <span class="bold_text">second highest</span> amount
                        of <span class="bold_text">crime records followed by </span>  <span class="mischief_text">Mischief</span>. <span class="homicide_text">Homicide</span> 
                        is the <span class="bold_text">rarest crime type</span> which contributes only a little to the entire crime proportion.
                    </p>

                </div>
            </div>
            <div class="pure-u-3-5">
                <div id="donutchart" style="width: 99%;"></div>
            </div>
        </div>

        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-3-5" style="margin-left: -2mm; margin-top: 4mm;">
                <div id="choropleth" class="vis-container"></div>
            </div>
            <div class="pure-u-2-5" style="margin-top: 4.5mm;">
                <div class="description-right">
                    <h2>Theft</h2>
                    
                    <p>
                        In terms of the number of crimes, <span class="bold_text">South Cambie</span> is the only neighbourhood that has 
                        <span class="orange_text">increased more than 25%</span>, by contrast, <span class="bold_text">Shaughnessy</span> is the 
                        only neighbourhood that has <span class="light_green_text">decreased more than 25%</span>.
                    </p>

                    <p style="margin-bottom: 2.25cm">
                        Most of the <span class="bold_text">top-right neighbourhoods</span> are having <span class="light_green_text">negative</span> percentage change
                        , while the <span class="bold_text">middle part</span> is having <span class="orange_text">positive</span> percentage change.
                    </p>

                    <h2>Break and Enter</h2>
                    <p>
                        <span class="bold_text">Fairview</span> and <span class="bold_text">Strathcona</span> are the only two neighbourhoods having 
                        <span class="orange_text">increase</span> in percentage change. 
                    </p>
                    <p>
                        <span class="bold_text">Fairview</span> is the only neighbourhood that has more than <span class="orange_text">20% increase</span> 
                        while <span class="bold_text">Strathcona</span> is having around <span class="orange_text">5% increase</span>.
                    </p>
                    <p>
                        <span class="bold_text">South Cambie</span> has <span class="bold_text">0%</span> change in <span class="break_and_enter_text">Break and Enter</span> crime, yet
                        it has <span class="orange_text">41.48% increase</span> in <span class="theft_text">Theft</span> which is the <span class="orange_text">highest increase</span> among all the neighbourhoods
                    </p>
                </div>
            </div>
        </div>
        
        <!-- info grid -->
        <div class="pure-g">
            <div class="pure-u-1-1 small-font">
                <p style="text-align: center; margin-top: 1.5cm;">
                    This visualisation is created by <a href="https://github.com/ChanKahHee" target="_blank">Chan Kah Hee</a>. The repository is at <a href="https://github.com/ChanKahHee/FIT3179" target="_blank">here</a> and
                    the data source is from <a href="https://www.kaggle.com/agilesifaka/vancouver-crime-report" target="_blank">Kaggle</a>

                </p>
            </div>
        </div>
    </div> <!-- end page -->

    <!-- Start of script -->
    <script type="text/javascript">
        var specVis1 = "waterfall_chart/js/waterfallchart.json";
        var specVis2 = "donutchart/js/donutchart.json";
        var specVis3 = "streamgraph/js/streamgraph.json";
        var specVis4 = "choropleth/js/choropleth.json";

        vegaEmbed('#waterfallchart', specVis1, {"actions": false}).then(function(result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
        
        vegaEmbed('#donutchart', specVis2, {"actions": false}).then(function(result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#streamgraph', specVis3, {"actions": false}).then(function(result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        vegaEmbed('#choropleth', specVis4, {"actions": false}).then(function(result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
    </script>
</body>
</html>