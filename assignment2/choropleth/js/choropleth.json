{
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "description": "the population per state, engineers per state, and hurricanes per state",
    "title": {"text": "The percentage change of Theft and Break and Enter crimes from 2018 to 2019", "align": "left", "fontSize": 18},
    "repeat": {"row": ["Theft", "Break and Enter"]},
    "resolve": {
        "scale": {
            "color": "independent"
      }
    },
    "spec": {
        "width": "container",
        "height": 350,
        "data": {
            "url": "https://raw.githubusercontent.com/ChanKahHee/FIT3179/main/assignment2/choropleth/data/theft_and_break_pct_change.csv"
        },
        "transform": [
            {
                "lookup": "Neighbourhood",
                "from": {
                "data": {
                    "url": "https://raw.githubusercontent.com/ChanKahHee/FIT3179/main/assignment2/choropleth/js/vancouver.json",
                    "format": {
                        "type": "topojson",
                        "feature": "local-area-boundary"
                    }
                },
                "key": "properties.name"
                },
                "as": "geo"
            }
        ],
        "projection": {"type": "equirectangular"},
        "mark": {"type": "geoshape", "tooltip": true},
        "encoding": {
            "shape": {
                "field": "geo",
                "type": "geojson"
            },
            "color": {
                "field": {"repeat": "row"},
                "type": "quantitative",
                "scale": {"type": "threshold", "domain": [-25, -10, 0, 10, 25], "scheme": "redyellowgreen", "reverse": true}
            },
            "tooltip": [
                {"field": "Neighbourhood", "type": "nominal", "title": "Neighbourhood"},
                {"field": "Theft", "type": "quantitative", "title": "Theft"},
                {"field": "Break and Enter", "type": "quantitative", "title": "Break and Enter"}
            ]
        }
    }
}
  